var messages = [], // array que contiene el registro de cada cadena en el chat
    lastUserMessage = "", // realiza un seguimiento de la cadena de entrada más reciente del usuario
    botMessage = "", // var hace un seguimiento de lo que va a decir el chatbot
    botName = 'Alfred', //Nombre del chatbot
    talking = true; // cuando es falso la función de voz no funciona
//****************************************************************
//****************************************************************
//Respuestas chatbot
function chatbotResponse() {
    talking = true;
    botMessage = "No comprendo"; //Mensaje predefinido

    if (lastUserMessage === 'hola' || lastUserMessage == 'Hola') {
        const hi = ['Hola', '¿Que paso?', 'Que tal!', '¡Hola!']
        botMessage = hi[Math.floor(Math.random() * (hi.length))];;
    }

    if (lastUserMessage === '¿Como te llamas?' || lastUserMessage == 'Nombre') {
        botMessage = 'Mi nombre es ' + botName;
    }
    
    if (lastUserMessage === '¿Qué dice el artículo 1?' || lastUserMessage == 'Artículo 1' || lastUserMessage == 'articulo 1' || lastUserMessage == '¿que dice el articulo 1?')
    {        
        botMessage = 'El presente reglamento tiene por objeto regular la circulación de peatones y vehículos en la vía pública y la seguridad vial en la Ciudad de México. Las disposiciones de este reglamento son aplicables a peatones, conductores, pasajeros y propietarios de cualquier tipo de vehículo matriculado en el país o el extranjero y que circule en el territorio dela Ciudad de México. En el presente ordenamiento se establecen las normas respecto a sus movimientos y estacionamiento, en observancia a lo establecido en las leyes, reglamentos, acuerdos, decretos y normatividad local vigente, así como las maniobras de ascenso y descenso de pasajeros o de carga y descarga. De igual forma, determina las condiciones legales y de seguridad a las que se deben ajustar los vehículos y sus conductores para su circulación. En todo lo no previsto en el presente ordenamiento, se aplicará de manera supletoria las disposiciones contenidas en la Ley de Movilidad del Distrito Federal, en la Ley de Cultura Cívica del Distrito Federal y en los programas ambientales y de seguridad vial. V. Todos los usuarios de la vía, que son los enlistados en la fracción anterior, y en especial los conductores de todo tipo de vehículos motorizados, deben responsabilizarse del riesgo que implican para los demás usuarios de la vía, por lo que su conducción se realizará de manera precautoria y respetando las disposiciones del presente Reglamento; y VI. El uso del automóvil particular deberá ser de manera racional, con el objetivo de mejorar las condiciones de salud y protección del ambiente. Estos principios deben ser difundidos por autoridades y promotores voluntarios de forma permanente a través de campañas, programas y cursos. La Secretaría en coordinación con Seguridad Pública, diseñará y llevará a cabo campañas permanentes de cultura de movilidad y seguridad vial que garanticen la concientización y respeto a la seguridad de todos los usuarios de la vía, delmismo modo, se realizarán acciones para inhibir el consumo de alcohol, narcóticos, estupefacientes o psicotrópicos al conducir.'
        ; 
    }
   
    
      if (lastUserMessage === '¿Qué dice el artículo 6?' || lastUserMessage == 'Artículo 6' || lastUserMessage == 'articulo 6' || lastUserMessage == '¿que dice el articulo 6?') 
    {        
        botMessage = '- Para garantizar la seguridad de los peatones, los conductores de vehículos están obligados a otorgar: I. Preferencia de paso en las intersecciones controladas por semáforos, cuando: a) La luz verde les otorgue el paso a los peatones; b) Habiéndoles correspondido el paso de acuerdo con el ciclo del semáforo, no alcancen a cruzar completamente la vía; y c) Los vehículos vayan a dar vuelta para incorporarse a otra vía y haya peatones cruzando ésta. II. Preferencia de paso en las intersecciones que no cuenten con semáforos, siempre tendrán preferencia sobre el tránsito vehicular, independientemente de las reglas establecidas en el artículo 10; cuando haya peatones esperando pasar, los conductores deberán parar y cederles el paso; III. Prioridad de uso del arroyo vehicular, cuando: a) No existan aceras en la vía; en caso de existir acotamiento o vías ciclistas, los peatones podrán circular del lado derecho de éstas; a falta de estas opciones transitarán por el extremo de la vía y en sentido contrario al flujo vehicular; b) Las aceras estén impedidas para el libre tránsito peatonal por consecuencia de obras públicas o privadas, eventos que interfieran de forma temporal la circulación o cuando el flujo de peatones supere la capacidad de la acera; la autoridad se asegurará de la implementación de espacios seguros para los transeúntes; mismas que estarán delimitadas, confinadas y señalizadas, conforme a la legislación aplicable y por parte de quien genere las anomalías en la vía; c) Transiten en comitivas organizadas,procesiones o filas escolares, debiendo circular en el sentido de la vía; d) Remolquen algún objeto que impida la libre circulación de los demás peatones sobre la acera, debiendo circular en el primer carril y en el sentido de la vía; en caso que transiten en ciclovías y carriles preferenciales ciclistas deberán hacerlo pegado a la acera y en el sentido de la circulación ciclista; e) Se utilicen vehículos recreativos o ayudas técnicas, debiendo transitar por el primer carril de circulación de la vía; en estos casos, también se podrá hacer uso del acotamiento y vías ciclistas. IV. Preferencia de paso cuando transiten por la acera y algún conductor deba cruzarla para entrar o salir de un predio o estacionamiento; y V. Prioridad de uso en las calles de prioridad peatonal, dónde los peatones podrán circular en todo lo ancho de la vía y en cualquier sentido. El conductor de un vehículo no motorizado que no respete la preferencia de paso y/o la prioridad de uso de los peatones de acuerdo a lo dispuesto en este artículo será amonestado y/o apercibido verbalmente por los agentes y orientado a conducirse de conformidad a las disposiciones aplicables.'; 
    }
    
    if (lastUserMessage === '¿Qué dice el artículo 7?' || lastUserMessage == 'Artículo 7' || lastUserMessage == 'articulo 7' || lastUserMessage == '¿que dice el articulo 7?') 
    {        
        botMessage = 'En todo momento los conductores o pasajeros de vehículos deben contribuir a generar un ambiente de sana convivencia entre todos los usuarios de la vía; por lo que deben obedecer la señalización vial, las indicaciones de los agentes, del personal de apoyo vial o promotores voluntarios; y deben abstenerse de: I. Insultar, denigrar o golpear al personal que desempeña labores de agilización del tránsito y aplicación de las sanciones establecidas en este Reglamento; II. Proferir vejaciones mediante utilización de señales visuales, audibles o de cualquier otro accesorio adherido al vehículo; golpear o realizar maniobras con el vehículo con objeto de intimidar o maltratar físicamente a otro usuario de la vía; y III. Utilizar la bocina (claxon) para un fin diferente al de evitar un hecho de tránsito, especialmente en condiciones de congestión vehicular, así como provocar ruido excesivo con el motor'; 
    }
    
    if (lastUserMessage === '¿Qué dice el artículo 8?' || lastUserMessage == 'Artículo 8' || lastUserMessage == 'articulo 8' || lastUserMessage == '¿que dice el articulo 8?') 
    {        
        botMessage = 'Los conductores de todo tipo de vehículos deben: I. Obedecer las indicaciones de los agentes, personal de apoyo vial, promotores voluntarios, así como respetar la señalización vial de acuerdo a lo estipulado en el anexo de los dispositivos para el control del tránsito del presente reglamento; II. Tomar las máximas precauciones a su alcance cuando existan peatones sobre el arroyo vehicular, reducir la velocidad o parar para permitir el paso a peatones, especialmente en zonas escolares o en calles de prioridad peatonal; III. Compartir los carriles de circulación de manera responsable con los demás vehículos, por lo que se debe cambiar de carriles de forma escalonada y tomar el carril extremo correspondiente anticipadamente cuando se pretenda dar vuelta, considerando lo especificado en la fracción VIII del este artículo; IV. Circular en el sentido que indique la vía; tratándose de vías reversibles, respetar los tramos y horarios que determine la autoridad competente y en caso de tratarse de vías de doble sentido, circular en el costado derecho de la vía, evitando deslumbrar a los conductores del sentido contrario; V. Rebasar otro vehículo sólo por el lado izquierdo; en el caso de vehículos motorizados que adelanten a ciclistas o motociclistas deben otorgar al menos la distancia de 1.50 metros de separación lateral; VI. Alinearse a la derecha y reducir la velocidad cuando otro vehículo intente adelantarlo; VII. Conservar respecto al vehículo que le preceda, una distancia razonable que garantice la detención oportuna en caso de que éste frene intempestivamente; VIII. Indicar la dirección de su giro o cambio de carril, mediante luces direccionales, en caso de vehículos no motorizados,podrá indicarse mediante señas; IX. Reducir la velocidad para conservar una distancia prudente y permitir el movimiento, cuando otro vehículo pretenda incorporarse a su carril y éste lo ha indicado con las luces direccionales; X. Dar prioridad a los vehículos de emergencia que circulen con las señales luminosas y audibles encendidas, debiendo disminuir la velocidad para despejar el camino y procurar alinearse hacia la derecha; XI. Disminuir su velocidad y tomar todas las precauciones necesarias cuando encuentren un vehículo de transporte escolar realizando maniobras de ascenso y descenso de escolares; XII. Cuando transiten en zonas escolares: a) Disminuir su velocidad y extremar precauciones, respetando la señalización vial y dispositivos para el control del tránsito correspondientes que indican la velocidad máxima permitida y cruce de peatones; b) Parar y ceder el paso a los escolares; y c) Obedecer las indicaciones de los agentes o de los promotores voluntarios. XIII. Cuando transiten por intersecciones con vías férreas: a) Disminuir la velocidad del vehículo a treinta kilómetros por hora, a una distancia de cincuenta metros antes de cruzar vías férreas; y b) Realizar alto a una distancia de cinco metros antes de las vías y mantenerse en esa forma si el ferrocarril se encuentra a una distancia menor a doscientos metros en dirección al crucero. XIV. Ascender o descender del vehículo sobre el carril contiguo a la acera. En caso de que tenga que hacerlo del lado izquierdo extremará precauciones al abrir o cerrar las portezuelas, sin sobrepasar las rayas de división de carril de manera que no haga un corte de circulación. Los conductores de vehículos no motorizados que no cumplan con las obligaciones estipuladas en el presente artículo, de acuerdo a la naturaleza de su vehículo, serán amonestados verbalmente por los agentes y orientados a conducirse de conformidad con lo establecido por las disposiciones aplicables'; 
    }
    
    if (lastUserMessage === '¿Qué dice el artículo 9?' || lastUserMessage == 'Artículo 9' || lastUserMessage == 'articulo 9' || lastUserMessage == '¿que dice el articulo 9?') 
    {        
        botMessage = 'Los conductores de vehículos deberán respetar los límites de velocidad establecidos en la señalización vial. A falta de señalamiento restrictivo específico, los límites de velocidad se establecerán de acuerdo a lo siguiente: I. En los carriles centrales de las vías de acceso controlado la velocidad máxima será de 80 kilómetros por hora; II. En vías primarias la velocidad máxima será de 50 kilómetros por hora; III. En vías secundarias incluyendo las laterales de vías de acceso controlado, la velocidad máxima será de 40 kilómetros por hora; IV. En zonas de tránsito calmado la velocidad será de 30 kilómetros por hora; V. En zonas escolares, de hospitales, de asilos, de albergues y casas hogar, la velocidad máxima será de 20 kilómetros por hora; y VI. En estacionamientos y en vías peatonales en las cuales se permita el acceso a vehículos la velocidad máxima será de 10 kilómetros por hora. Los conductores de vehículos no motorizados que no cumplan con las obligaciones estipuladas en el presente artículo, serán amonestados verbalmente por los agentes y orientados a conducirse de conformidad con lo establecido por las disposiciones aplicables.'; 
    }
    
    if (lastUserMessage === '¿Qué dice el artículo 10?' || lastUserMessage == 'Artículo 10' || lastUserMessage == 'articulo 10' || lastUserMessage == '¿que dice el articulo 10?') 
    {        
        botMessage = 'Para las preferencias de paso en las intersecciones, el conductor se ajustará al señalamiento restrictivo y a las siguientes reglas: I. Los peatones tendrán preferencia de paso sobre los vehículos de acuerdo a lo establecido en el artículo 6; II. Los vehículos no motorizados tendrán preferencia sobre los vehículos motorizados de acuerdo a las reglas establecidas en el artículo 15; III. Los vehículos de emergencia tienen preferencia de paso sobre los demás vehículos cuando circulen con las señales luminosas o audibles en funcionamiento; IV. El ferrocarril, el tren ligero y vehículos de transporte público que circulen en carriles exclusivos confinados o en contraflujo tienen preferencia de paso; V. En las intersecciones reguladas por un agente, personal de apoyo vial o promotores voluntarios, los conductores deben seguir las indicaciones de éstos, independientemente de las reglas de preferencia o de lo indicado por los dispositivos para el control del tránsito; VI. En las intersecciones reguladas mediante semáforos se respetarán las siguientes reglas: a) Cuando la luz del semáforo esté en rojo, los conductores deben detener su vehículo en la línea de “alto”, sin invadir el cruce peatonal o el área de espera para bicicletas o motocicletas; los ciclistas y motociclistas deberán hacer uso de sus áreas de espera cuando éstas existan; b) Cuando exista congestión vehicular que impida cruzar completamente la intersección y aunque la luz del semáforo indique siga, se deberá parar en la línea de alto para evitar obstruir la circulación de las calles transversales, principalmente en aquellas que cuenten con marca en el pavimento para indicar la prohibición de detención dentro de la intersección; c) Cuando los semáforos se encuentren con luces intermitentes se cruzará con precaución disminuyendo la velocidad; tiene preferencia de paso el conductor que transite por la vía cuyo semáforo esté destellando en color ámbar, sobre el conductor que transite en una vía cuyo semáforo esté destellando en color rojo, quien deberá hacer alto total y después cruzar con precaución; y d) Entre las 23:00 horas y las 5:00 horas del día siguiente, debe detener totalmente el vehículo frente a la luz roja del semáforo y, una vez que se cerciore de que ningún peatón o vehículo se dispone a cruzar la intersección, podrá continuar la marcha, aun cuando no haya cambiado la señal de alto. VII. En vías de acceso controlado, los vehículos que se incorporan a los carriles centrales deberán ceder el paso; los vehículos que circulan sobre la vía lateral, deberán ceder el paso a los que se desincorporan de los carriles centrales, con excepción de situaciones de congestionamiento vial con tránsito detenido, en las que se alternará el paso bajo el criterio de “uno y uno”; VIII. Cuando los conductores circulen por una vía que no cuente con semáforos o se encuentren apagados y no haya señalamiento restrictivo que regule la preferencia de paso, luego de dejar pasar a los peatones, se ajustarán a la siguiente jerarquía de reglas: a) El que circule por una vía primaria tiene preferencia de paso sobre el que pretenda acceder a ella; b) Tienen la preferencia los vehículos que circulen sobre la vía con mayor amplitud o mayor volumen de tránsito; c) En vías de la misma jerarquía, tiene la preferencia el vehículo que circule en una calle o vía de doble sentido sobre aquel que circule en una vía de un solo sentido; d) En vías secundarias de un sólo sentido y con el mismo número de carriles, cuando dos vehículos se encuentren en una intersección, se le cederá el paso al vehículo que se aproxime por su derecha; y e) Cuando en el cruce de dos vías secundarias con un sólo carril efectivo de circulación, se aproximen de forma simultánea vehículos en las diferentes vías, ambos deben realizar alto total y cruzar con precaución, alternándose el paso bajo el criterio de “uno y uno”. IX. En las glorietas, el vehículo que se encuentre dentro de la misma tiene preferencia de paso sobre el que pretenda acceder a ella; en aquellas glorietas de varios carriles tienen preferencia aquellos vehículos que realicen movimiento para salir de ella; X. La vuelta continua, a la derecha y a la izquierda, está prohibida, excepto cuando exista un señalamiento que expresamente lo permita, en cuyo caso deberá cederse el paso a los peatones que estén cruzando y a los vehículos que transiten por la vía a la que se pretende incorporar; XI. En vías en las que exista reducción de carriles, tendrá preferencia el conductor del vehículo que circula sobre el carril que se conserva; en caso de congestión vial, todos los vehículos deberán guardar el orden de paso sin adelantase a otros vehículos que les precedan e intercalarse uno a uno; y XII. En vías con pendientes donde no sea posible el paso simultáneo de dos vehículos, tiene preferencia de paso el conductor del vehículo que va en sentido ascendente. Los conductores de vehículos no motorizados que no cumplan con las obligaciones estipuladas en el presente artículo serán amonestados verbalmente por los agentes y orientados a conducirse de conformidad con lo establecido por las disposiciones aplicables.'; 
    }
    
    
    
    if (lastUserMessage === '¿Qué dice el artículo 21?' || lastUserMessage == 'Artículo 21' || lastUserMessage == 'articulo 21' || lastUserMessage == '¿que dice el articulo 21?') 
    {        
        botMessage = 'Se prohíbe a los conductores de motocicletas: I. Circular sobre las aceras y áreas reservadas al uso exclusivo de peatones; salvo que el conductor ingrese a su domicilio o a un estacionamiento, debe desmontar; II. Circular por vías ciclistas exclusivas; III. Circular por los carriles confinados para el transporte público de pasajeros; IV. Circular entre carriles, salvo cuando el tránsito vehicular se encuentre detenido y busque colocarse en el área de espera para motocicletas o en un lugar visible para reiniciar la marcha, sin invadir los pasos peatonales; V. Circular por los carriles centrales de las vías de acceso controlado cuando utilicen vehículos menores a 250 centímetros cúbicos; VI. Circular en vías en las que exista señalización vial que expresamente restrinja su circulación, carriles centrales y segundos niveles de vías de acceso controlado. VII. Hacer maniobras riesgosas o temerarias, cortes de circulación o cambios abruptos de carril que pongan en riesgo su integridad y la de terceros;'; 
    }
    
    if (lastUserMessage === '¿Qué dice el artículo 22?' || lastUserMessage == 'Artículo 22' || lastUserMessage == 'articulo 22' || lastUserMessage == '¿que dice el articulo 22?') 
    {        
        botMessage = 'Además de lo dispuesto en el capítulo II de este Título, los conductores de vehículos de transporte público de pasajeros deben: I. Circular por el carril de la extrema derecha, excepto cuando: a) Existan vehículos parados o estacionados o exista algún obstáculo en el carril; b) Para rebasar a otros vehículos más lentos; y c) Se pretenda girar a la izquierda. II. Compartir de manera responsable con los ciclistas el espacio de circulación en carriles de la extrema derecha y rebasarlos otorgando al menos 1.50 metros de separación lateral entre los dos vehículos, disminuir la velocidad y tomar las precauciones necesarias; III. Circular por el carril exclusivo para uso de transporte público si la vía cuenta con uno; excepto cuando exista algún obstáculo en el carril; IV. Circular con las portezuelas cerradas, permitiendo el ascenso o descenso de pasajeros sólo cuando el vehículo esté totalmente detenido; V. Otorgar el tiempo suficiente a los pasajeros para abordar o descender del vehículo; en caso de personas con discapacidad o con movilidad limitada, deben dar el tiempo necesario para que éstas se instalen en el interior del vehículo o en la acera; VI. Realizar maniobras de ascenso o descenso de pasajeros en el carril de la extrema derecha, en la esquina antes de cruzar la vía transversal y en el caso de transporte público colectivo sólo en lugares autorizados por la Secretaría o indicados expresamente en las concesiones; VII. Circular con las luces interiores encendidas en horario nocturno; VIII. Hacer base o estacionar su vehículo en lugar autorizado o en los lugares de encierro o guarda correspondiente en horarios en que no se preste servicio; y IX. Tratándose de ciclotaxis, deberán circular en zonas o vías autorizadas por la Secretaría.'; 
    }
    
    if (lastUserMessage === '¿Qué dice el artículo 23?' || lastUserMessage == 'Artículo 23' || lastUserMessage == 'articulo 23' || lastUserMessage == '¿que dice el articulo 23?') 
    {        
        botMessage = 'Queda prohibido a los conductores de vehículos de transporte público colectivo de pasajeros: I. Circular por los carriles centrales de las vías de acceso controlado a menos que esté expresamente autorizado para hacerlo; II. Rebasar a otro vehículo que circule en el carril de contraflujo, salvo que el vehículo esté parado por alguna descompostura; en este caso, el conductor rebasará con precaución, con las luces delanteras encendidas y direccionales funcionando; III. Realizar maniobras de ascenso o descenso de pasajeros, en el segundo o tercer carril de circulación, contados de derecha a izquierda, o sobre una vía ciclista exclusiva; y IV. Utilizar equipos de audio a niveles de volumen que resulten dañinos a la salud o molestos a los pasajeros por rebasar la medición de decibeles permitidos.'; 
    }
    
    if (lastUserMessage === '¿Qué dice el artículo 24?' || lastUserMessage == 'Artículo 24' || lastUserMessage == 'articulo 24' || lastUserMessage == '¿que dice el articulo 24?') 
    {        
        botMessage = 'Los conductores de vehículos de transporte escolar o de personal deben: I. Tomar las debidas precauciones para que se realicen las maniobras de ascenso y descenso de usuarios de manera segura, tales como: a) Realizar maniobras de ascenso o descenso de pasajeros, en el carril de la extrema derecha y sólo en lugares autorizados; b) Permitir el ascenso o descenso de pasajeros sólo cuando el vehículo esté totalmente detenido; y c) Poner en funcionamiento las luces intermitentes de advertencia cuando se detengan en la vía pública para efectuar maniobras de ascenso y descenso. II. Circular con las luces interiores encendidas en horario nocturno; y III. En casos en los que el sentido de circulación implique un cruce de escolares sobre la vía, éstos deberán ser asistidos por el auxiliar que viaja en el vehículo, hasta confirmar que el escolar se encuentra en la acera.'; 
    }
    
    if (lastUserMessage === '¿Qué dice el artículo 25?' || lastUserMessage == 'Artículo 25' || lastUserMessage == 'articulo 25' || lastUserMessage == '¿que dice el articulo 25?') 
    {        
        botMessage = '- Además de lo dispuesto en el capítulo II de este Título, los conductores de vehículos de transporte de carga deben: I. Circular en las vías y horarios establecidos mediante aviso de la Secretaría; II. Circular por el carril de la extrema derecha y usar el izquierdo sólo para rebasar o dar vuelta a la izquierda; y III. Realizar maniobras de carga y descarga en lugares seguros, sin afectar o interrumpir el tránsito vehicular'; 
    }
    
    if (lastUserMessage === '¿Qué dice el artículo 26?' || lastUserMessage == 'Artículo 26' || lastUserMessage == 'articulo 26' || lastUserMessage == '¿que dice el articulo 26?') 
    {        
        botMessage = 'Queda prohibido a los conductores de vehículos de transporte de carga: I. Circular por carriles centrales y segundos niveles de las vías de acceso controlado cuando se trate de vehículos de peso bruto vehicular de diseño superior a 3,857 Kg o donde el señalamiento restrictivo así lo indique, y II. Hacer base o estacionar su vehículo fuera de un lugar autorizado o de los sitios de encierro o guarda correspondientes.'; 
    }
    
    if (lastUserMessage === '¿Qué dice el artículo 27?' || lastUserMessage == 'Artículo 27' || lastUserMessage == 'articulo 27' || lastUserMessage == '¿que dice el articulo 27?') 
    {        
        botMessage = 'Además de las obligaciones contenidas en los artículos que anteceden, los conductores de vehículos que transporten sustancias tóxicas o peligrosas deben: I. Sujetarse estrictamente a circular por las rutas, horarios y los itinerarios de carga y descarga autorizados y dados a conocer por la Secretaría y por Seguridad Pública; II.- Abstenerse de realizar paradas que no estén señaladas en la operación del servicio; III.- En caso de congestionamiento vehicular que interrumpa la circulación, el conductor deberá solicitar a los agentes prioridad para continuar su marcha, mostrándoles la documentación que ampare el riesgo sobre el producto que transporta, con el propósito de salvaguardar la integridad física de las personas y bienes.; IV.- Deberán ir señalizados y balizados de conformidad con lo establecido en las normas oficiales mexicanas con relación a este tipo de transporte; y V.- Cumplir con los lineamientos en materia de sustancias peligrosas que para tal efecto expidan las autoridades competentes.'; 
    }
    
    if (lastUserMessage === '¿Qué dice el artículo 28?' || lastUserMessage == 'Artículo 28' || lastUserMessage == 'articulo 28' || lastUserMessage == '¿que dice el articulo 28?') 
    {        
        botMessage = '- Se prohíbe a los conductores de vehículos que transporten sustancias tóxicas o peligrosas: I. Estacionar los vehículos en la vía pública o en la proximidad de fuente de riesgo, independientemente de la observancia de las condiciones y restricciones impuestas por las autoridades federales en materia ambiental y de transporte; y II. Realizar maniobras de carga y descarga en lugares no destinados para tal fin.'; 
    }
    
    if (lastUserMessage === '¿Qué dice el artículo 29?' || lastUserMessage == 'Artículo 29' || lastUserMessage == 'articulo 29' || lastUserMessage == '¿que dice el articulo 29?') 
    {        
        botMessage = ' Al estacionarse u ocupar la vía pública, se deberá hacer de forma momentánea, provisional o temporal, sin que represente una afectación al desplazamiento de peatones y circulación de vehículos, o se obstruya la entrada o salida de una cochera. En zonas en las que existan sistemas de cobro por estacionamiento en vía pública el conductor de un vehículo con placas de matrícula para persona con discapacidad tiene preferencia en la utilización de los espacios disponibles. Al estacionar un vehículo motorizado en la vía pública, los conductores deberán observar las siguientes disposiciones: I. El vehículo deberá quedar orientado en el sentido de la circulación; II. En zonas urbanas, deberá quedar a menos de 30 centímetros del límite del arroyo vehicular; III. En zonas suburbanas, el vehículo deberá quedar cuando menos un metro fuera de la superficie de rodadura; IV. Cuando el vehículo quede estacionado en una pendiente descendente, además de aplicar el freno de estacionamiento, las ruedas delanteras deberán quedar dirigidas hacia la acera; V. Cuando el vehículo quede en una pendiente ascendente, sus ruedas delanteras se colocarán en posición inversa a la acera; y VI. Cuando un vehículo, cuyo peso sea mayor a tres toneladas, se estacione en pendientes, deberán colocarse cuñas apropiadas en las ruedas traseras'; 
    }
    
    if (lastUserMessage === '¿Qué dice el artículo 30?' || lastUserMessage == 'Artículo 30' || lastUserMessage == 'articulo 30' || lastUserMessage == '¿que dice el articulo 30?') 
    {        
        botMessage = ' Se prohíbe estacionar cualquier vehículo: I. Sobre vías peatonales, especialmente banquetas y cruces peatonales, así como vías ciclistas exclusivas, para ello es suficiente que cualquier parte del vehículo se encuentre sobre estos espacios; II. En las vías primarias; III. Sobre o debajo de cualquier puente o estructura elevada de una vía pública o en el interior de un túnel; IV. En el costado izquierdo de la vía cuando existan camellones centrales, laterales o islas, así como en las glorietas, salvo que las marcas en el pavimento y el señalamiento lo permita; V. En donde exista señalamiento restrictivo, o la guarnición de la acera sea de color amarillo, que indica el área donde está prohibido el estacionamiento; VI. En los carriles exclusivos, confinados y/o prioritarios de transporte público; VII. En áreas de circulación, accesos y salidas de estaciones y terminales del transporte público colectivo, sitios de taxi, así como en zonas de ascenso y descenso de pasaje de transporte público; VIII. En espacios para servicios especiales autorizados por la Secretaría o cualquier otro sitio indicado por la señalización vial correspondiente, cuando éste no sea su fin; IX. En espacios de servicios especiales destinados al ascenso y descenso de pasajeros cuando la permanencia del vehículo supere el tiempo indicado en la señalización vial, excepto cuando se trate de pasajeros con discapacidad o movilidad limitada; X. Frente a: a) Establecimientos bancarios; b) Hidrantes para uso de los bomberos; c) Entradas y salidas de vehículos de emergencia; d) Entradas o salidas de estacionamientos públicos y gasolineras; e) Centros escolares y demás centros de concentración masiva que determine la Secretaría; f) Rampas peatonales; g) Rampas de acceso de vehículos, salvo que se trate de las del domicilio del propio conductor, siempre y cuando no se invada la acera o el tránsito de peatones; y h) En entradas y salidas peatonales de instalaciones de hospitales o centros de salud. XI. En lugares donde se obstruya la visibilidad de la señalización vial; XII. Sobre las vías en doble o más filas; XIII. En batería, con excepción de bicicletas y motocicletas o que un señalamiento así lo permita; XIV. En un tramo menor a: a) Siete metros y medio a partir de la guarnición de la vía transversal; b) Seis metros de la entrada de una estación de bomberos y de vehículos de emergencia; y en un espacio de 25 metros a cada lado del eje de entrada en la acera opuesta a ella; y c) Diez metros de cualquier cruce de vía férrea. XV. En lugares o cajones destinados al estacionamiento de vehículos que transporten o sean conducidos por personas con discapacidad, identificados con el señalamiento informativo; XVI. En carreteras de no más de dos carriles y con doble sentido de circulación, en un tramo menor a: a) Cincuenta metros de un vehículo estacionado en el lado opuesto; y b) Cien metros de una curva o cima sin visibilidad; XVII. En sentido contrario a la circulación; XVIII. En los cajones exclusivos debidamente autorizados y que cuenten con marcas de color azul que así lo indique, a menos que se trate del vehículo para el cual están destinados estos espacios; XIX. En vías ciclistas, cicloestaciones de bicicleta pública y biciestacionamientos, así como el espacio contiguo a éstos, con excepción de los vehículos no motorizados para los cuales están destinados estos espacios; XX. En los demás lugares que la Secretaría y Seguridad Pública determinen; y XXI.- Cuando se estacionen vehículos en lugares autorizados para tal fin, y no se cubra la cuota determinada por su uso, además de lo dispuesto en la fracción II del artículo 33, se impondrá la multa señalada en este artículo.'; 
    }

    
    
    if (lastUserMessage === '¿Qué dice el artículo 41?' || lastUserMessage == 'Artículo 41' || lastUserMessage == 'articulo 41' || lastUserMessage == '¿que dice el articulo 41?') 
    {        
        botMessage = 'Los siguientes vehículos deberán contar en la parte superior con luces destellantes de color ámbar, previa autorización de la Secretaría: I. Vehículos particulares que realicen trabajos de servicios en la vía en horario nocturno; II. Vehículos de transporte público de pasajeros con un largo mayor a diez metros; III. Vehículos de transporte de carga de doble remolque; IV. Grúas; y V. Vehículos con dimensiones excesivas, maquinaria agrícola o de construcción y los vehículos que sean utilizados para su abanderamiento.'; 
    }
    
    if (lastUserMessage === '¿Qué dice el artículo 42?' || lastUserMessage == 'Artículo 42' || lastUserMessage == 'articulo 42' || lastUserMessage == '¿que dice el articulo 42?') 
    {        
        botMessage = ' Los vehículos motorizados que tengan adaptados dispositivos de acoplamiento para tracción de remolques y semirremolques deberán cumplir con lo siguiente: I. Un mecanismo giratorio o retráctil que no rebase la defensa del mismo; los vehículos que no cumplan con este requisito deberán ser modificados por el propietario; II. Los remolques deben contar con bandas reflejantes de color blanco y rojo en los costados laterales y posterior y bandas reflejantes amarillas en la parte frontal, así como de dos lámparas indicadoras de frenado; y IV. Las luces de freno deben ser visibles en la parte posterior de los remolques'; 
    }
    
    if (lastUserMessage === '¿Qué dice el artículo 43?' || lastUserMessage == 'Artículo 43' || lastUserMessage == 'articulo 43' || lastUserMessage == '¿que dice el articulo 43?') 
    {        
        botMessage = 'Se prohíbe instalar o utilizar en vehículos motorizados: I. Bandas de oruga, ruedas o neumáticos metálicas u otros mecanismos de tracción que dañen la superficie de rodadura; II. Faros deslumbrantes que no cumplan con las Normas Oficiales Mexicanas y pongan en riesgo la seguridad de conductores o peatones; III. Luces de neón y/o porta placas que obstruyan la visibilidad de la información contenida en las placas de matrícula del vehículoy/o micas, láminas transparentes u obscuras sobre las mismas placas; IV. Sistemas antirradares o detector de radares de velocidad; V. Modificaciones al sistema de escape de gases del vehículo con objeto de provocar ruido excesivo; VI. Bocinas (claxon) que produzca ruido excesivo o un sonido diverso al que producía la bocina original de fábrica; y VII. Películas de control solar (polarizado) u oscurecimiento de vidrios laterales o traseros en un porcentaje mayor al 20%. Cuando así se requiera por razones médicas, debidamente acreditadas ante la Secretaría, y deberá constar en la tarjeta de circulación.'; 
    }
    
    if (lastUserMessage === '¿Qué dice el artículo 44?' || lastUserMessage == 'Artículo 44' || lastUserMessage == 'articulo 44' || lastUserMessage == '¿que dice el articulo 44?') 
    {        
        botMessage = 'Los conductores de vehículos motorizados deben cumplir con los requisitos legales especificados por cada tipo de vehículo del que se trate: I. Conductores de vehículos motorizados de uso particular, incluyendo a motociclistas, deben: a) Cuando sean menores de edad, portar permiso de conducir; b) Cuando sean mayores de edad, portar licencia vigente correspondiente al tipo de vehículo. II. Conductores de vehículos de transporte público de pasajeros deben: a) Conducir con licencia vigente correspondiente al tipo de vehículo; b) Portar el tarjetón a la vista del pasajero; c) Portar el engomado de la concesión; y d) Utilizar la cromática autorizada por la Secretaría. III. Tratándose de ciclotaxis: a) Portar el permiso expedido por autoridad correspondiente; b) Utilizar la cromática autorizada por la Secretaría; y c) Portar el número económico que identifique a la unidad. IV. Los conductores de vehículos de transporte escolar o de pasajeros deben: a) Conducir con licencia vigente correspondiente al tipo de vehículo; b) Utilizar la cromática autorizada por la Secretaría; y, c) Contar con el permiso o concesión correspondiente. V. Los conductores de vehículos de transporte de carga deben: a) Conducir con licencia vigente correspondiente al tipo de vehículo; b) Contar con el permiso o concesión correspondiente. VI Los conductores de vehículos que transporten sustancias tóxicas o peligrosas, adicionalmente deben contar con: a) El sistema de identificación de unidades destinadas al transporte de substancias, materiales y residuos peligrosos de acuerdo a la norma vigente; b) El permiso correspondiente para transportar esas sustancias; y c) Contar con protocolos de actuación en casos de emergencia. Los requisitos y procedimiento para la obtención de permisos y licencias de conducir, tarjetones y demás documentos para la conducción de vehículos se establecen en la Ley y en el Reglamento respectivo.';
    }
    
    if (lastUserMessage === '¿Qué dice el artículo 45?' || lastUserMessage == 'Artículo 45' || lastUserMessage == 'articulo 45' || lastUserMessage == '¿que dice el articulo 45?') 
    {        
        botMessage = 'Los vehículos motorizados que circulen en el territorio del Distrito Federal deben de contar con: I. Placas de matrícula frontal y posterior, o permiso provisional vigentes correspondiente al tipo de vehículo, o en su defecto, la copia certificada de la denuncia de la pérdida de las placas de matrícula ante el agente del Ministerio Público o la constancia de hechos ante el Juez Cívico, la cual no deberá exceder del término de 10 días hábiles a partir de la fecha de su expedición; mismos que deberán: a) Estar colocadas en el lugar destinado por el fabricante del vehículo; b) Encontrarse libres de cualquier objeto o sustancia que dificulte u obstruya su visibilidad o su registro, así como luces de neón alrededor; c) Coincidir con la calcomanía permanente de circulación, con la tarjeta de circulación y con los registros del control vehicular; d) Tener la dimensión y características que especifique la Norma Oficial Mexicana respectiva; y e) En el caso de motocicletas, la placa deberá estar colocada en un lugar visible, con la lectura en dirección hacia la parte trasera del vehículo, con una inclinación entre 60° y 120°, con base en su eje horizontal. II. La calcomanía de circulación permanente; III. El holograma y constancia de verificación vehicular vigente con excepción de motocicletas. Los vehículos motorizados de los Estados que conforman la Comisión Ambiental de la Megalópolis y que circulen en el territorio del Distrito Federal están obligados a portar su holograma y constancia de verificación vehicular vigente respectiva; y IV. Tarjeta de circulación vigente. Tratándose de vehículos con placas de matrícula extranjera, portar los documentos oficiales en los que se describan las características del vehículo y se acredite la legal estancia en el país. Los requisitos y procedimiento para la obtención de la placa de matrícula y tarjeta de circulación se establecen en la Ley y su Reglamento.';
    }
    
    if (lastUserMessage === '¿Qué dice el artículo 46?' || lastUserMessage == 'Artículo 46' || lastUserMessage == 'articulo 46' || lastUserMessage == '¿que dice el articulo 46?') 
    {        
        botMessage = '- Los vehículos motorizados deberán contar con póliza de seguro de responsabilidad civil vigente, que ampare al menos la responsabilidad civil por daños a terceros en su persona y en su patrimonio. En el caso de las unidades que prestan el servicio de transporte público de pasajeros o de carga, deberá contar con póliza de seguro de responsabilidad civil vigente, que ampare la responsabilidad civil por daños y perjuicio que con motivo de la prestación del servicio pudiese ocasionar a los usuarios o terceros en su persona o patrimonio, dependiendo de la modalidad de transporte a la que corresponda y de acuerdo a lo que establezca el reglamento de la Ley. Sin perjuicio de las sanciones establecidas en este reglamento, serán sancionados de acuerdo a lo estipulado en la Ley y su reglamento.';
    }
    
    if (lastUserMessage === '¿Qué dice el artículo 47?' || lastUserMessage == 'Artículo 47' || lastUserMessage == 'articulo 47' || lastUserMessage == '¿que dice el articulo 47?') 
    {        
        botMessage = 'Los conductores de vehículos motorizados deberán acatar los programas ambientales y no circular en vehículos que tengan restricciones y/o en las ecozonas o zonas de movilidad sustentable, los días y horas correspondientes. Quedan exceptuados los siguientes vehículos: I. Los de emergencia; II. Los que utilizan tecnologías sustentables; III. Los de transporte escolar; IV. Los de servicios funerarios; V. Los de servicio particular que transporten o que sean conducidos por personas con discapacidad que cuenten con la autorización o placa de matrícula expedidos por la Secretaría; VI. Aquellos en que sea manifiesta o que se acredite una emergencia médica; y VII. Los demás que determinen las disposiciones jurídicas y administrativas aplicables';
    }
    
    if (lastUserMessage === '¿Qué dice el artículo 48?' || lastUserMessage == 'Artículo 48' || lastUserMessage == 'articulo 48' || lastUserMessage == '¿que dice el articulo 48?') 
    {        
        botMessage = '- Se prohíbe utilizar o instalar en vehículos: I. Dispositivos luminosos o acústicos similares a los utilizados por vehículos de emergencia; II. Anuncios publicitarios no autorizados por la Secretaría; y III. Los vehículos de uso particular no podrán contar con cromáticas iguales o similares a las del transporte público de pasajeros matriculados en el Distrito Federal, vehículos de emergencia y de los destinados a la Secretaría de Defensa Nacional o de la Secretaría de Marina.';
    }
    
    if (lastUserMessage === '¿Qué dice el artículo 49?' || lastUserMessage == 'Artículo 49' || lastUserMessage == 'articulo 49' || lastUserMessage == '¿que dice el articulo 49?') 
    {        
        botMessage = 'Sólo se permite la circulación de maquinaria agrícola o de construcción en la vía del Distrito Federal cuando cuenten con autorización por parte de la Secretaría. Su circulación se limitará al traslado del vehículo al lugar donde será utilizado. Al transitar por la vía, la maquinaria agrícola o de construcción deberá contar con las medidas de seguridad necesarias, tales como señales de advertencia reflejantes o luminosas. Cuando su velocidad de circulación sea menor a 20 kilómetros por hora o cuente con dimensiones excesivas deberá contar con el apoyo de un vehículo que lo abandere para prevenir a los demás conductores de su presencia.';
    }
    
    if (lastUserMessage === '¿Qué dice el artículo 50?' || lastUserMessage == 'Artículo 50' || lastUserMessage == 'articulo 50' || lastUserMessage == '¿que dice el articulo 50?') 
    {        
        botMessage = '- Queda prohibido conducir vehículos motorizados cuando se tenga una cantidad de alcohol en la sangre superior a 0.8 gramos por litro o de alcohol en aire espirado superior a 0.4 miligramos por litro, así como bajo el influjo de narcóticos, estupefacientes o psicotrópicos al conducir. Los conductores de vehículos destinados al servicio de transporte público de pasajeros, transporte escolar o de personal, vehículos de emergencia, de transporte de carga o de transporte de sustancias tóxicas o peligrosas, no deben presentar ninguna cantidad de alcohol en la sangre o en aire espirado, síntomas simples de aliento alcohólico o de estar bajo los efectos de narcóticos, estupefacientes o psicotrópicos al conducir. Los conductores de vehículos motorizados a quienes se les encuentre cometiendo actos que violen las disposiciones del presente reglamento o que muestren síntomas de que conducen bajo los efectos de alcohol o narcóticos, estupefacientes o psicotrópicos, están obligados a someterse a las pruebas de detección de ingestión de alcohol o de narcóticos, estupefacientes o psicotrópicos, cuando lo solicite la autoridad competente ante el médico legista o por personal autorizado para tal efecto.';
    }
    
    if (lastUserMessage === 'Tengo dudas') {
        botMessage = 'Dime en que te puedo ayudar';
    }
}


// esto se ejecuta cada vez que se presiona enter.
// Controla la entrada y salida general.
function newEntry() {
    // si el mensaje del usuario no está vacío, ejecute
    if (document.getElementById("chatbox").value != "") {
        // extrae el valor del cuadro de chat y lo establece en el último mensaje de usuario
        lastUserMessage = document.getElementById("chatbox").value;
        // establece el cuadro de chat para ser claro
        document.getElementById("chatbox").value = "";
        // agrega el valor del chatbox a los mensajes de la matriz
        messages.push(lastUserMessage);
        // Speech (lastUserMessage); // dice lo que el usuario tecleó en voz alta
         // establece la variable botMessage en respuesta a lastUserMessage
        chatbotResponse();
        // agrega el nombre y el mensaje del chatbot a los mensajes de la matriz
        messages.push("<b>" + botName + ":</b> " + botMessage);
        // dice el mensaje usando la función de texto a voz escrita abajo
        Speech(botMessage);
        // envía los últimos elementos de la matriz de mensajes a html
        for (var i = 1; i < 11; i++) {
            if (messages[messages.length - i])
                document.getElementById("chatlog" + i).innerHTML = messages[messages.length - i];
        }
    }
}

//texto a voz
//https://developers.google.com/web/updates/2014/01/Web-apps-that-talk-Introduction-to-the-Speech-Synthesis-API
function Speech(say) {
    if ('speechSynthesis' in window && talking) {
        var utterance = new SpeechSynthesisUtterance(say);
        //msg.voice = voices[10]; // Nota: algunas voces no admiten la modificación de parámetros
        //msg.voiceURI = 'native';
        //utterance.volume = 1; // 0 to 1
        //utterance.rate = 0.1; // 0.1 to 10
        //utterance.pitch = 1; //0 to 2
        //utterance.text = 'Hello World';
        //utterance.lang = 'en-US';
        speechSynthesis.speak(utterance);
    }
}

// ejecuta la función de pulsación de tecla () cuando se presiona una tecla
document.onkeypress = keyPress;
// si la tecla presionada es 'enter' ejecuta la función newEntry ()
function keyPress(e) {
    var x = e || window.event;
    var key = (x.keyCode || x.which);
    if (key == 13 || key == 3) {
        // ejecuta esta función cuando se presiona enter
        newEntry();
    }
    if (key == 38) {
        console.log('hi')
        //document.getElementById("chatbox").value = lastUserMessage;
    }
}

// borra el texto del marcador de posición en el cuadro de chat
// esta función está configurada para ejecutarse cuando los usuarios enfocan el cuadro de chat, haciendo clic en ella
function placeHolder() {
    document.getElementById("chatbox").placeholder = "";
}